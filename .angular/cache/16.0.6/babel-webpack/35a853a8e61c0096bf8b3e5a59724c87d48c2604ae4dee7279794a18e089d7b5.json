{"ast":null,"code":"import { Validators, FormGroup } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"./district.service\";\nimport * as i4 from \"../division/division.service\";\nimport * as i5 from \"@angular/material/snack-bar\";\nimport * as i6 from \"@angular/common\";\nfunction DistrictComponent_div_6_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1, \" Name is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DistrictComponent_div_6_option_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const division_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", division_r6.divisionId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(division_r6.name);\n  }\n}\nfunction DistrictComponent_div_6_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1, \" Division is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"has-error\": a0\n  };\n};\nfunction DistrictComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"form\", 9);\n    i0.ɵɵlistener(\"ngSubmit\", function DistrictComponent_div_6_Template_form_ngSubmit_1_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.onFormSubmit());\n    });\n    i0.ɵɵelementStart(2, \"div\", 10)(3, \"label\", 11);\n    i0.ɵɵtext(4, \"Name:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"input\", 12);\n    i0.ɵɵtemplate(6, DistrictComponent_div_6_div_6_Template, 2, 0, \"div\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 10)(8, \"label\", 14);\n    i0.ɵɵtext(9, \"Division:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"select\", 15);\n    i0.ɵɵtemplate(11, DistrictComponent_div_6_option_11_Template, 2, 2, \"option\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, DistrictComponent_div_6_div_12_Template, 2, 0, \"div\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 17)(14, \"label\", 18);\n    i0.ɵɵtext(15, \"Type:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"input\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 17)(18, \"label\", 20);\n    i0.ɵɵtext(19, \"Location:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"input\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 22);\n    i0.ɵɵelement(22, \"input\", 23);\n    i0.ɵɵelementStart(23, \"label\", 24);\n    i0.ɵɵtext(24, \"Active\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"button\", 25);\n    i0.ɵɵtext(26, \"Submit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function DistrictComponent_div_6_Template_button_click_27_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.resetForm());\n    });\n    i0.ɵɵtext(28, \"Reset\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    let tmp_1_0;\n    let tmp_2_0;\n    let tmp_3_0;\n    let tmp_5_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.districtForm);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c0, ((tmp_1_0 = ctx_r0.districtForm.get(\"name\")) == null ? null : tmp_1_0.invalid) && ((tmp_1_0 = ctx_r0.districtForm.get(\"name\")) == null ? null : tmp_1_0.touched)));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx_r0.districtForm.get(\"name\")) == null ? null : tmp_2_0.invalid) && ((tmp_2_0 = ctx_r0.districtForm.get(\"name\")) == null ? null : tmp_2_0.touched));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(8, _c0, (tmp_3_0 = ctx_r0.districtForm.get(\"divisionId\")) == null ? null : tmp_3_0.invalid));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.allDivisions);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = ctx_r0.districtForm.get(\"divisionId\")) == null ? null : tmp_5_0.invalid) && ((tmp_5_0 = ctx_r0.districtForm.get(\"divisionId\")) == null ? null : tmp_5_0.touched));\n  }\n}\nfunction DistrictComponent_tr_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\")(14, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function DistrictComponent_tr_29_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const district_r10 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.loadDistrictToEdit(district_r10.districtId));\n    });\n    i0.ɵɵtext(15, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function DistrictComponent_tr_29_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const district_r10 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.deleteDistrictById(district_r10.districtId));\n    });\n    i0.ɵɵtext(17, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const district_r10 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(district_r10.districtId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(district_r10.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.getDivisionName(district_r10.divisionId));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(district_r10.type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(district_r10.location);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(district_r10.isActive ? \"Yes\" : \"No\");\n  }\n}\nconst _c1 = function (a0, a1) {\n  return {\n    \"alert-success\": a0,\n    \"alert-danger\": a1\n  };\n};\nfunction DistrictComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(2, _c1, ctx_r2.dataSaved, !ctx_r2.dataSaved && ctx_r2.message));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.message, \" \");\n  }\n}\nexport class DistrictComponent {\n  constructor(formBuilder, router, districtService, divisionService, snackBar) {\n    this.formBuilder = formBuilder;\n    this.router = router;\n    this.districtService = districtService;\n    this.divisionService = divisionService;\n    this.snackBar = snackBar;\n    this.allDivisions = [];\n    this.districtIdUpdate = null;\n    this.dataSaved = false;\n    this.message = \"\";\n    this.isEditMode = false;\n  }\n  ngOnInit() {\n    this.districtForm = this.formBuilder.group({\n      name: ['', [Validators.required]],\n      divisionId: ['', [Validators.required]],\n      type: '',\n      location: '',\n      isActive: [false]\n    });\n    this.loadAllDistricts();\n    this.loadAllDivisions();\n  }\n  loadAllDistricts() {\n    this.allDistricts = this.districtService.getAllDistricts();\n  }\n  loadAllDivisions() {\n    this.divisionService.getAllDivisions().subscribe(divisions => {\n      this.allDivisions = divisions;\n    }, error => {\n      console.error(\"Error loading divisions:\", error);\n    });\n  }\n  deleteDistrictById(id) {\n    if (confirm(\"Are you sure to delete this district?\")) {\n      this.districtService.deleteDistrictById(id).subscribe(() => {\n        this.dataSaved = true;\n        this.message = \"Record Deleted Successfully.\";\n        this.loadAllDistricts();\n        this.districtForm.reset();\n        this.showSuccess(this.message);\n      }, error => {\n        this.showError(\"Error deleting district.\");\n        console.error(\"Error deleting district:\", error);\n      });\n    }\n  }\n  onFormSubmit() {\n    this.dataSaved = false;\n    if (this.districtForm.valid) {\n      const district = this.districtForm.value;\n      if (this.isEditMode) {\n        // Directly update the district without checking for duplicates\n        this.createDistrict(district);\n      } else {\n        // Check for duplicate district\n        this.districtService.checkDuplicateDistrict(district.name, district.divisionId).subscribe(exists => {\n          if (exists) {\n            this.showError(\"A district with the same name and division already exists.\");\n          } else {\n            this.createDistrict(district);\n          }\n        }, error => {\n          this.showError(\"Error checking duplicate district.\");\n          console.error(\"Error checking duplicate district:\", error);\n        });\n      }\n    } else {\n      this.showError(\"Please fill out all required fields.\");\n      this.markFormGroupTouched(this.districtForm);\n    }\n  }\n  createDistrict(district) {\n    if (this.districtIdUpdate === null) {\n      this.districtService.createDistrict(district).subscribe(() => {\n        this.dataSaved = true;\n        this.message = \"Record Created Successfully.\";\n        this.loadAllDistricts();\n        this.districtForm.reset();\n        this.showSuccess(this.message);\n        this.isEditMode = false; // Reset edit mode\n      }, error => {\n        this.showError(\"Error creating district.\");\n        console.error(\"Error creating district:\", error);\n      });\n    } else {\n      district.districtId = this.districtIdUpdate;\n      this.districtService.updateDistrict(this.districtIdUpdate, district).subscribe(() => {\n        this.dataSaved = true;\n        this.message = \"Record Updated Successfully.\";\n        this.loadAllDistricts();\n        this.districtIdUpdate = null;\n        this.districtForm.reset();\n        this.showSuccess(this.message);\n        this.isEditMode = false; // Reset edit mode\n      }, error => {\n        this.showError(\"Error updating district.\");\n        console.error(\"Error updating district:\", error);\n      });\n    }\n  }\n  loadDistrictToEdit(id) {\n    this.districtService.getDistrictById(id).subscribe(district => {\n      this.message = \"\";\n      this.dataSaved = false;\n      this.districtIdUpdate = district.districtId;\n      this.districtForm.patchValue(district);\n      this.isEditMode = true; // Set edit mode\n    }, error => {\n      this.showError(\"Error loading district for edit.\");\n      console.error(\"Error loading district for edit:\", error);\n    });\n  }\n  resetForm() {\n    this.districtForm.reset();\n    this.message = \"\";\n    this.dataSaved = false;\n    this.districtIdUpdate = null;\n    this.isEditMode = false;\n  }\n  getDivisionName(divisionId) {\n    const division = this.allDivisions.find(d => d.divisionId === divisionId);\n    return division ? division.name : '';\n  }\n  showError(message) {\n    this.snackBar.open(message, '', {\n      duration: 5000,\n      verticalPosition: 'top',\n      horizontalPosition: 'right',\n      panelClass: ['error-snackbar']\n    });\n  }\n  showSuccess(message) {\n    this.snackBar.open(message, '', {\n      duration: 5000,\n      verticalPosition: 'top',\n      horizontalPosition: 'right',\n      panelClass: ['success-snackbar']\n    });\n  }\n  markFormGroupTouched(formGroup) {\n    Object.keys(formGroup.controls).forEach(key => {\n      const control = formGroup.get(key);\n      if (control instanceof FormGroup) {\n        this.markFormGroupTouched(control);\n      } else {\n        control?.markAsTouched();\n      }\n    });\n  }\n  static #_ = this.ɵfac = function DistrictComponent_Factory(t) {\n    return new (t || DistrictComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.DistrictService), i0.ɵɵdirectiveInject(i4.DivisionService), i0.ɵɵdirectiveInject(i5.MatSnackBar));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DistrictComponent,\n    selectors: [[\"app-district\"]],\n    decls: 32,\n    vars: 5,\n    consts: [[1, \"container\"], [1, \"card\"], [1, \"card-header\"], [\"class\", \"card-body\", 4, \"ngIf\"], [1, \"card\", \"mt-3\"], [1, \"card-body\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"alert mt-3\", 3, \"ngClass\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\", 3, \"ngClass\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"formControlName\", \"name\", \"required\", \"\", 1, \"form-control\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"for\", \"divisionId\"], [\"id\", \"divisionId\", \"formControlName\", \"divisionId\", \"required\", \"\", 1, \"form-control\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-group\"], [\"for\", \"type\"], [\"type\", \"text\", \"id\", \"type\", \"formControlName\", \"type\", 1, \"form-control\"], [\"for\", \"location\"], [\"type\", \"text\", \"id\", \"location\", \"formControlName\", \"location\", 1, \"form-control\"], [1, \"form-check\"], [\"type\", \"checkbox\", \"id\", \"isActive\", \"formControlName\", \"isActive\", 1, \"form-check-input\"], [\"for\", \"isActive\", 1, \"form-check-label\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"mt-2\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", \"mt-2\", 3, \"click\"], [1, \"text-danger\"], [3, \"value\"], [1, \"btn\", \"btn-sm\", \"btn-info\", 3, \"click\"], [1, \"btn\", \"btn-sm\", \"btn-danger\", 3, \"click\"], [1, \"alert\", \"mt-3\", 3, \"ngClass\"]],\n    template: function DistrictComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n        i0.ɵɵtext(2, \"District Management\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2);\n        i0.ɵɵtext(5, \" District Form \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(6, DistrictComponent_div_6_Template, 29, 10, \"div\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\", 2);\n        i0.ɵɵtext(9, \" District List \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 5)(11, \"table\", 6)(12, \"thead\")(13, \"tr\")(14, \"th\");\n        i0.ɵɵtext(15, \"ID\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"th\");\n        i0.ɵɵtext(17, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"th\");\n        i0.ɵɵtext(19, \"Division\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"th\");\n        i0.ɵɵtext(21, \"Type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"th\");\n        i0.ɵɵtext(23, \"Location\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"th\");\n        i0.ɵɵtext(25, \"Active\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"th\");\n        i0.ɵɵtext(27, \"Actions\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(28, \"tbody\");\n        i0.ɵɵtemplate(29, DistrictComponent_tr_29_Template, 18, 6, \"tr\", 7);\n        i0.ɵɵpipe(30, \"async\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(31, DistrictComponent_div_31_Template, 2, 5, \"div\", 8);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.districtForm);\n        i0.ɵɵadvance(23);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(30, 3, ctx.allDistricts));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.message);\n      }\n    },\n    dependencies: [i6.NgClass, i6.NgForOf, i6.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.CheckboxControlValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName, i6.AsyncPipe],\n    styles: [\"\\n\\r\\n.error-snackbar[_ngcontent-%COMP%] {\\r\\n  background-color: #f44336; \\n\\r\\n  color: white;\\r\\n}\\r\\n\\r\\n.success-snackbar[_ngcontent-%COMP%] {\\r\\n  background-color: #4caf50; \\n\\r\\n  color: white;\\r\\n}\\r\\n\\r\\n\\n\\r\\n.ng-invalid.ng-touched[_ngcontent-%COMP%] {\\r\\n  border: 1px solid red;\\r\\n}\\r\\n\\r\\n\\n\\r\\n\\r\\n\\r\\n\\n\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpc3RyaWN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsK0JBQStCO0FBQy9CO0VBQ0UseUJBQXlCLEVBQUUsUUFBUTtFQUNuQyxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSx5QkFBeUIsRUFBRSxVQUFVO0VBQ3JDLFlBQVk7QUFDZDs7QUFFQSw2QkFBNkI7QUFDN0I7RUFDRSxxQkFBcUI7QUFDdkI7O0FBRUEsb0NBQW9DO0FBQ3BDOztFQUVFIiwiZmlsZSI6ImRpc3RyaWN0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBFcnJvciBhbmQgU3VjY2VzcyBTbmFja0JhciAqL1xyXG4uZXJyb3Itc25hY2tiYXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmNDQzMzY7IC8qIFJlZCAqL1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLnN1Y2Nlc3Mtc25hY2tiYXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM0Y2FmNTA7IC8qIEdyZWVuICovXHJcbiAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4vKiBNYXJrIGludmFsaWQgZm9ybSBmaWVsZHMgKi9cclxuLm5nLWludmFsaWQubmctdG91Y2hlZCB7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgcmVkO1xyXG59XHJcblxyXG4vKiBTdHlsZSBmb3IgZm9ybS1ncm91cCB3aXRoIGVycm9yICovXHJcbi8qLmhhcy1lcnJvciAuZm9ybS1jb250cm9sIHtcclxuICBib3JkZXI6IDFweCBzb2xpZCByZWQ7XHJcbn0qL1xyXG4iXX0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZGlzdHJpY3QvZGlzdHJpY3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwrQkFBK0I7QUFDL0I7RUFDRSx5QkFBeUIsRUFBRSxRQUFRO0VBQ25DLFlBQVk7QUFDZDs7QUFFQTtFQUNFLHlCQUF5QixFQUFFLFVBQVU7RUFDckMsWUFBWTtBQUNkOztBQUVBLDZCQUE2QjtBQUM3QjtFQUNFLHFCQUFxQjtBQUN2Qjs7QUFFQSxvQ0FBb0M7QUFDcEM7O0VBRUU7O0FBRUYsby9CQUFvL0IiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBFcnJvciBhbmQgU3VjY2VzcyBTbmFja0JhciAqL1xyXG4uZXJyb3Itc25hY2tiYXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmNDQzMzY7IC8qIFJlZCAqL1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLnN1Y2Nlc3Mtc25hY2tiYXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM0Y2FmNTA7IC8qIEdyZWVuICovXHJcbiAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4vKiBNYXJrIGludmFsaWQgZm9ybSBmaWVsZHMgKi9cclxuLm5nLWludmFsaWQubmctdG91Y2hlZCB7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgcmVkO1xyXG59XHJcblxyXG4vKiBTdHlsZSBmb3IgZm9ybS1ncm91cCB3aXRoIGVycm9yICovXHJcbi8qLmhhcy1lcnJvciAuZm9ybS1jb250cm9sIHtcclxuICBib3JkZXI6IDFweCBzb2xpZCByZWQ7XHJcbn0qL1xyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["Validators","FormGroup","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","division_r6","divisionId","ɵɵadvance","ɵɵtextInterpolate","name","ɵɵlistener","DistrictComponent_div_6_Template_form_ngSubmit_1_listener","ɵɵrestoreView","_r8","ctx_r7","ɵɵnextContext","ɵɵresetView","onFormSubmit","ɵɵelement","ɵɵtemplate","DistrictComponent_div_6_div_6_Template","DistrictComponent_div_6_option_11_Template","DistrictComponent_div_6_div_12_Template","DistrictComponent_div_6_Template_button_click_27_listener","ctx_r9","resetForm","ctx_r0","districtForm","ɵɵpureFunction1","_c0","tmp_1_0","get","invalid","touched","tmp_2_0","tmp_3_0","allDivisions","tmp_5_0","DistrictComponent_tr_29_Template_button_click_14_listener","restoredCtx","_r12","district_r10","$implicit","ctx_r11","loadDistrictToEdit","districtId","DistrictComponent_tr_29_Template_button_click_16_listener","ctx_r13","deleteDistrictById","ctx_r1","getDivisionName","type","location","isActive","ɵɵpureFunction2","_c1","ctx_r2","dataSaved","message","ɵɵtextInterpolate1","DistrictComponent","constructor","formBuilder","router","districtService","divisionService","snackBar","districtIdUpdate","isEditMode","ngOnInit","group","required","loadAllDistricts","loadAllDivisions","allDistricts","getAllDistricts","getAllDivisions","subscribe","divisions","error","console","id","confirm","reset","showSuccess","showError","valid","district","value","createDistrict","checkDuplicateDistrict","exists","markFormGroupTouched","updateDistrict","getDistrictById","patchValue","division","find","d","open","duration","verticalPosition","horizontalPosition","panelClass","formGroup","Object","keys","controls","forEach","key","control","markAsTouched","_","ɵɵdirectiveInject","i1","FormBuilder","i2","Router","i3","DistrictService","i4","DivisionService","i5","MatSnackBar","_2","selectors","decls","vars","consts","template","DistrictComponent_Template","rf","ctx","DistrictComponent_div_6_Template","DistrictComponent_tr_29_Template","DistrictComponent_div_31_Template","ɵɵpipeBind1"],"sources":["G:\\IsDB- Bisew Class-1\\UI-18-08-24\\UI-Font-01\\src\\app\\district\\district.component.ts","G:\\IsDB- Bisew Class-1\\UI-18-08-24\\UI-Font-01\\src\\app\\district\\district.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, Validators, FormGroup } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { DistrictService } from './district.service';\r\nimport { DivisionService } from '../division/division.service';\r\nimport { District } from './district.model';\r\nimport { Division } from '../division/division.model';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\n\r\n@Component({\r\n  selector: 'app-district',\r\n  templateUrl: './district.component.html',\r\n  styleUrls: ['./district.component.css']\r\n})\r\nexport class DistrictComponent implements OnInit {\r\n  allDistricts: Observable<District[]> | undefined;\r\n  allDivisions: Division[] = [];\r\n  districtForm!: FormGroup;\r\n  districtIdUpdate: number | null = null;\r\n  dataSaved = false;\r\n  message = \"\";\r\n\r\n  isEditMode = false;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private router: Router,\r\n    private districtService: DistrictService,\r\n    private divisionService: DivisionService,\r\n    private snackBar: MatSnackBar\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.districtForm = this.formBuilder.group({\r\n      name: ['', [Validators.required]],\r\n      divisionId: ['', [Validators.required]],\r\n      type: '',\r\n      location: '',\r\n      isActive: [false]\r\n    });\r\n\r\n    this.loadAllDistricts();\r\n    this.loadAllDivisions();\r\n  }\r\n\r\n  loadAllDistricts() {\r\n    this.allDistricts = this.districtService.getAllDistricts();\r\n  }\r\n\r\n  loadAllDivisions() {\r\n    this.divisionService.getAllDivisions().subscribe((divisions: Division[]) => {\r\n      this.allDivisions = divisions;\r\n    }, (error: any) => {\r\n      console.error(\"Error loading divisions:\", error);\r\n    });\r\n  }\r\n\r\n  deleteDistrictById(id: number) {\r\n    if (confirm(\"Are you sure to delete this district?\")) {\r\n      this.districtService.deleteDistrictById(id).subscribe(() => {\r\n        this.dataSaved = true;\r\n        this.message = \"Record Deleted Successfully.\";\r\n        this.loadAllDistricts();\r\n        this.districtForm.reset();\r\n        this.showSuccess(this.message);\r\n      }, error => {\r\n        this.showError(\"Error deleting district.\");\r\n        console.error(\"Error deleting district:\", error);\r\n      });\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  onFormSubmit() {\r\n    this.dataSaved = false;\r\n    if (this.districtForm.valid) {\r\n      const district = this.districtForm.value;\r\n      if (this.isEditMode) {\r\n        // Directly update the district without checking for duplicates\r\n        this.createDistrict(district);\r\n      } else {\r\n        // Check for duplicate district\r\n        this.districtService.checkDuplicateDistrict(district.name, district.divisionId).subscribe((exists: boolean) => {\r\n          if (exists) {\r\n            this.showError(\"A district with the same name and division already exists.\");\r\n          } else {\r\n            this.createDistrict(district);\r\n          }\r\n        }, (error: any) => {\r\n          this.showError(\"Error checking duplicate district.\");\r\n          console.error(\"Error checking duplicate district:\", error);\r\n        });\r\n      }\r\n    } else {\r\n      this.showError(\"Please fill out all required fields.\");\r\n      this.markFormGroupTouched(this.districtForm);\r\n    }\r\n  }\r\n\r\n\r\n  \r\n\r\n  createDistrict(district: District) {\r\n    if (this.districtIdUpdate === null) {\r\n      this.districtService.createDistrict(district).subscribe(() => {\r\n        this.dataSaved = true;\r\n        this.message = \"Record Created Successfully.\";\r\n        this.loadAllDistricts();\r\n        this.districtForm.reset();\r\n        this.showSuccess(this.message);\r\n        this.isEditMode = false; // Reset edit mode\r\n      }, (error: any) => {\r\n        this.showError(\"Error creating district.\");\r\n        console.error(\"Error creating district:\", error);\r\n      });\r\n    } else {\r\n      district.districtId = this.districtIdUpdate;\r\n      this.districtService.updateDistrict(this.districtIdUpdate, district).subscribe(() => {\r\n        this.dataSaved = true;\r\n        this.message = \"Record Updated Successfully.\";\r\n        this.loadAllDistricts();\r\n        this.districtIdUpdate = null;\r\n        this.districtForm.reset();\r\n        this.showSuccess(this.message);\r\n        this.isEditMode = false; // Reset edit mode\r\n      }, (error: any) => {\r\n        this.showError(\"Error updating district.\");\r\n        console.error(\"Error updating district:\", error);\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  loadDistrictToEdit(id: number) {\r\n    this.districtService.getDistrictById(id).subscribe(district => {\r\n      this.message = \"\";\r\n      this.dataSaved = false;\r\n      this.districtIdUpdate = district.districtId;\r\n      this.districtForm.patchValue(district);\r\n      this.isEditMode = true; // Set edit mode\r\n    }, error => {\r\n      this.showError(\"Error loading district for edit.\");\r\n      console.error(\"Error loading district for edit:\", error);\r\n    });\r\n  }\r\n\r\n  resetForm() {\r\n    this.districtForm.reset();\r\n    this.message = \"\";\r\n    this.dataSaved = false;\r\n    this.districtIdUpdate = null;\r\n    this.isEditMode = false;\r\n  }\r\n\r\n  getDivisionName(divisionId: number): string {\r\n    const division = this.allDivisions.find(d => d.divisionId === divisionId);\r\n    return division ? division.name : '';\r\n  }\r\n\r\n  showError(message: string) {\r\n    this.snackBar.open(message, '', {\r\n      duration: 5000,\r\n      verticalPosition: 'top',\r\n      horizontalPosition: 'right',\r\n      panelClass: ['error-snackbar']\r\n    });\r\n  }\r\n\r\n  showSuccess(message: string) {\r\n    this.snackBar.open(message, '', {\r\n      duration: 5000,\r\n      verticalPosition: 'top',\r\n      horizontalPosition: 'right',\r\n      panelClass: ['success-snackbar']\r\n    });\r\n  }\r\n\r\n  markFormGroupTouched(formGroup: FormGroup) {\r\n    Object.keys(formGroup.controls).forEach(key => {\r\n      const control = formGroup.get(key);\r\n      if (control instanceof FormGroup) {\r\n        this.markFormGroupTouched(control);\r\n      } else {\r\n        control?.markAsTouched();\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <h2>District Management</h2>\r\n\r\n  <!-- Form Section -->\r\n  <div class=\"card\">\r\n    <div class=\"card-header\">\r\n      District Form\r\n    </div>\r\n    <div class=\"card-body\" *ngIf=\"districtForm\">\r\n      <form [formGroup]=\"districtForm\" (ngSubmit)=\"onFormSubmit()\">\r\n        <div class=\"form-group\" [ngClass]=\"{'has-error': districtForm.get('name')?.invalid && districtForm.get('name')?.touched}\">\r\n          <label for=\"name\">Name:</label>\r\n          <input type=\"text\" class=\"form-control\" id=\"name\" formControlName=\"name\" required>\r\n          <div *ngIf=\"districtForm.get('name')?.invalid && districtForm.get('name')?.touched\" class=\"text-danger\">\r\n            Name is required.\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group\" [ngClass]=\"{'has-error': districtForm.get('divisionId')?.invalid}\">\r\n          <label for=\"divisionId\">Division:</label>\r\n          <select class=\"form-control\" id=\"divisionId\" formControlName=\"divisionId\" required>\r\n            <option *ngFor=\"let division of allDivisions\" [value]=\"division.divisionId\">{{ division.name }}</option>\r\n          </select>\r\n          <div *ngIf=\"districtForm.get('divisionId')?.invalid && districtForm.get('divisionId')?.touched\" class=\"text-danger\">\r\n            Division is required.\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"type\">Type:</label>\r\n          <input type=\"text\" class=\"form-control\" id=\"type\" formControlName=\"type\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"location\">Location:</label>\r\n          <input type=\"text\" class=\"form-control\" id=\"location\" formControlName=\"location\">\r\n        </div>\r\n        <div class=\"form-check\">\r\n          <input type=\"checkbox\" class=\"form-check-input\" id=\"isActive\" formControlName=\"isActive\">\r\n          <label class=\"form-check-label\" for=\"isActive\">Active</label>\r\n        </div>\r\n        <button type=\"submit\" class=\"btn btn-primary mt-2\">Submit</button>\r\n        <button type=\"button\" class=\"btn btn-secondary mt-2\" (click)=\"resetForm()\">Reset</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Display Section -->\r\n  <div class=\"card mt-3\">\r\n    <div class=\"card-header\">\r\n      District List\r\n    </div>\r\n    <div class=\"card-body\">\r\n      <table class=\"table table-striped\">\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Name</th>\r\n            <th>Division</th>\r\n            <th>Type</th>\r\n            <th>Location</th>\r\n            <th>Active</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor=\"let district of (allDistricts | async)\">\r\n            <td>{{ district.districtId }}</td>\r\n            <td>{{ district.name }}</td>\r\n            <td>{{ getDivisionName(district.divisionId) }}</td>\r\n            <td>{{ district.type }}</td>\r\n            <td>{{ district.location }}</td>\r\n            <td>{{ district.isActive ? 'Yes' : 'No' }}</td>\r\n            <td>\r\n              <button class=\"btn btn-sm btn-info\" (click)=\"loadDistrictToEdit(district.districtId)\">Edit</button>\r\n              <button class=\"btn btn-sm btn-danger\" (click)=\"deleteDistrictById(district.districtId)\">Delete</button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Message Section -->\r\n  <div *ngIf=\"message\" class=\"alert mt-3\" [ngClass]=\"{ 'alert-success': dataSaved, 'alert-danger': !dataSaved && message }\">\r\n    {{ message }}\r\n  </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}